{"version":3,"sources":["angular-stickyThead.js"],"names":["StickyTheadDirective","$window","$timeout","restrict","scope","zindex","link","elem","init","sticky","clone","find","remove","removeAttr","css","z-index","top","position","display","border","parent","insertBefore","onResize","scrollY","onScroll","theadHeight","offsetHeight","angular","forEach","value","index","el","element","eq","offsetWidth","off","tblOffTop","getBoundingClientRect","tblOffBot","tagName","Error","bind","module","directive","$inject"],"mappings":"CAQC,WACG,YAOA,SAASA,GAAqBC,EAASC,GACnC,OACIC,SAAU,IACVC,OACIC,OAAQ,KAEZC,KAAM,SAAUF,EAAOG,GAUnB,QAASC,KACLN,EAAS,WACLO,EAASF,EAAKG,QACdD,EAAOE,KAAK,SAASC,SACrBH,EAAOE,KAAK,SAASC,SACrBH,EAAOI,WAAW,gBAClBJ,EAAOK,KACHC,UAAWV,EACXW,IAAK,EACLC,SAAU,QACVC,QAAS,OACTC,OAAQ,SAEZZ,EAAKa,SAAS,GAAGC,aAAaZ,EAAO,GAAIF,EAAK,IAC9Ce,IACIrB,EAAQsB,QAAU,GAClBC,MAKZ,QAASF,KACLG,EAAclB,EAAKI,KAAK,SAAS,GAAGe,aACpCC,QAAQC,QAAQnB,EAAOE,KAAK,MAAO,SAAUkB,EAAOC,GAChD,GAAIC,GAAKJ,QAAQK,QAAQvB,EAAOE,KAAK,MAAMmB,GAC3CC,GAAGjB,IAAI,QAASP,EAAKI,KAAK,MAAMsB,GAAGH,GAAO,GAAGI,YAAc,QAInE,QAASV,KACL,GAAIW,GAAMlC,EAAQsB,QACda,EAAY7B,EAAK,GAAG8B,wBAAwBrB,IAAMmB,EAClDG,EAAYF,EAAY7B,EAAK,GAAGmB,aAAeD,CACzCW,GAAND,GAAmBA,EAAMG,EACzB7B,EAAOK,IAAI,UAAW,QACfqB,GAAOC,GAAoBE,GAAPH,GAA8C,SAA1B1B,EAAOK,IAAI,YAC1DL,EAAOK,IAAI,UAAW,SA7C9B,GAAwB,UAApBP,EAAK,GAAGgC,QACR,KAAM,IAAIC,OAAM,+CAGpB,IAAInC,GAASD,EAAMC,QAAU,KAEzBI,EAAS,KACTgB,EAAclB,EAAKI,KAAK,SAAS,GAAGe,YA0CxCC,SAAQK,QAAQ/B,GAASwC,KAAK,SAAUnB,GACxCK,QAAQK,QAAQ/B,GAASwC,KAAK,SAAUjB,GACxChB,MA/DZmB,QAAQe,OAAO,0BACVC,UAAU,cAAe3C,GAE9BA,EAAqB4C,SAAW,UAAW","file":"angular-stickyThead.min.js","sourcesContent":["/*\n * angular-stickyThead\n * A pure Angular directive for making thead sticking to the top of the screen. No jQuery needed\n *\n * (c) 2015 Chambon Emmanuel\n * License:MIT\n */\n\n(function () {\n    'use strict';\n\n    angular.module('angular-stickyThead', [])\n        .directive('stickyThead', StickyTheadDirective);\n\n    StickyTheadDirective.$inject = ['$window', '$timeout'];\n\n    function StickyTheadDirective($window, $timeout) {\n        return {\n            restrict: 'A',\n            scope: {\n                zindex: '='\n            },\n            link: function (scope, elem) {\n                if (elem[0].tagName !== 'TABLE') {\n                    throw new Error('sticky-thead must be run on a table element.');\n                }\n\n                var zindex = scope.zindex || 1001;\n\n                var sticky = null,\n                    theadHeight = elem.find('thead')[0].offsetHeight;\n\n                function init() {\n                    $timeout(function () {\n                        sticky = elem.clone();\n                        sticky.find('tbody').remove();\n                        sticky.find('tfoot').remove();\n                        sticky.removeAttr('sticky-thead');\n                        sticky.css({\n                            'z-index': zindex,\n                            top: 0,\n                            position: 'fixed',\n                            display: 'none',\n                            border: 'none'\n                        });\n                        elem.parent()[0].insertBefore(sticky[0], elem[0]);\n                        onResize();\n                        if ($window.scrollY > 0) {\n                            onScroll();\n                        }\n                    });\n                }\n\n                function onResize() {\n                    theadHeight = elem.find('thead')[0].offsetHeight;\n                    angular.forEach(sticky.find('th'), function (value, index) {\n                        var el = angular.element(sticky.find('th')[index]);\n                        el.css('width', elem.find('th').eq(index)[0].offsetWidth + 'px');\n                    });\n                }\n\n                function onScroll() {\n                    var off = $window.scrollY;\n                    var tblOffTop = elem[0].getBoundingClientRect().top + off;\n                    var tblOffBot = tblOffTop + elem[0].offsetHeight - theadHeight;\n                    if (off < tblOffTop || off > tblOffBot) {\n                        sticky.css('display', 'none');\n                    } else if (off >= tblOffTop && off <= tblOffBot && sticky.css('display') === 'none') {\n                        sticky.css('display', 'block');\n                    }\n                }\n\n                angular.element($window).bind('resize', onResize);\n                angular.element($window).bind('scroll', onScroll);\n                init();\n            }\n        };\n    }\n\n}());\n"],"sourceRoot":"/source/"}